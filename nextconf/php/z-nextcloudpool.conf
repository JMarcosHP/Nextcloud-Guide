; Nextcloud PHP-FPM pool settings
; Adjust according to the desired mode and add the values provided by the php-fpm-autocalculation script.
; Copy this configuration file in /etc/php/X.Y/fpm/pool.d/ every time you upgrade the PHP version.
; Then apply with:
; sudo systemctl restart phpX.Y-fpm

[www]
; Dynamic mode:
; Offers a balance between resource efficiency
: and responsiveness, adapting to varying traffic
; levels.
;pm = dynamic
;pm.max_children = 
;pm.start_servers = 
;pm.min_spare_servers = 
;pm.max_spare_servers = 

; Ondemand mode:
; Highly resource-efficient, as processes are
; only active when needed, minimizing memory
; consumption for low-traffic sites.
;pm = ondemand
;pm.max_children = 
;process_idle_timeout = 10s

; Static mode:
; Provides the fastest response times as
; processes are always ready to handle requests,
; but can consume more memory,recommended for 
; high-traffic sites.
;pm = static
;pm.max_children = 

; Necessary environment variables, please don't remove.
env[PATH] = /usr/local/bin:/usr/bin:/bin

; High failure protection
emergency_restart_threshold 10
emergency_restart_interval 1m
process_control_timeout 10s
